<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="https://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="layouts/defaultTemplate">

    <head>
        <meta charset="UTF-8">
        <title>Milestone - Claims Management</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
		<link type="text/css" rel="stylesheet" th:href="@{/css/register.css}">
		<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,600&display=swap" rel="stylesheet">
		<style> 
			
			.logo {
				display:block;
				margin-top: 20px;
				width: 150px;
				max-width: 100%;
				margin-left: auto;
				margin-right: auto;
			}
						
			.table th, .table td {
				padding: 16px;
				border: 1px solid #ddd;
				text-align: center;
			}
			
			.table {
				width: 100%;
				border-collapse: separate;
				border-spacing: 0;
				font-size: 1.1rem;
				border-radius: 10px;
				overflow: visible;
				box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
				background-color: white;
			
				}
			
			.button {
				display: inline-block;
				margin-top: 20px;
				background-color: #007bff;
				color: white;
				padding: 10px 20px;
				display: block;
				text-decoration: none; 
				border-radius: 5px;
				font-weight: bold;	
				text-align: center;
				width: auto;
				max-width: 25%;
				margin-left: auto;
				margin-right: auto;	
			}

		</style>	
    </head>
	
    <body>
		
        <div layout:fragment="content">
			
			  <img src="/images/SRM.png" alt="logo" class="logo">

			<div class="table-wrapper" style="border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); overflow: hidden;">
				<h3 class="text-center">This is the Claims Table</h3>
				<table class="table">
				    <thead>
				        <tr>
							<th>Business Name</th>
				            <th>Order Number</th>
				            <th>Reason for Return</th>
				            <th>Status</th>
				            <th>Preferred Resolution</th>
				            <th>Business Response</th>
				            <th>Approved Resolution</th>
				            <th>Return Instructions</th>
				            <th>Ticket Status</th>
				        </tr>
				    </thead>
				    <tbody>
				        <!-- Check if claims are empty -->
				        <tr th:if="${claims.isEmpty()}">
				            <td colspan="8">No Claims</td>
				        </tr>
				        <!-- Loop through claims -->
				        <tr th:each="claim : ${claims}">
							<td th:text="${claim.businessName}">0000000001</td>	
							<td th:text="${claim.orderNumber}">0000000001</td>
							<td th:text="${claim.returnReason}">Product 1</td>	
							<td th:text="${claim.claimStatus}">1.00</td>
							<td th:text="${claim.preferredResolution}">1</td>
							<td th:text="${claim.businessResponse}">1</td>
							<td th:text="${claim.approvedResolutionType}">1</td>
							<td th:text="${claim.returnInstructions}">1</td>
							<td th:text="${claim.claimActive}">1</td>	
							
							<!-- Edit Link -->
							<a th:href="@{/claims/edit/{id}(id=${claim.id})}" class="btn btn-secondary">Edit</a>
							<!-- Delete Link -->
							<a th:href="@{/claims/delete/{id}(id=${claim.id})}" class="btn btn-danger"
							onclick="return confirm('Are you sure you want to delete this claims?)">Delete</a>
										            
				        </tr>
				    </tbody>
				</table>
			</div>
				<a th:href="@{/createClaim}" class="button"> Create New Claim</a>
				
        </div>
    </body>
    </html>